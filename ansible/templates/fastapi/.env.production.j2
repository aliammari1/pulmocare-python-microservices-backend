# Production Environment Configuration for {{ service_description }}

# Service Configuration
ENV=production
HOST=0.0.0.0
PORT={{ service_port }}
METRICS_PORT={{ metrics_port }}

# CORS Configuration (restrict in production)
CORS_ORIGINS=https://your-domain.com,https://api.your-domain.com

# Security
SECRET_KEY=${SECRET_KEY_FROM_VAULT}
ACCESS_TOKEN_EXPIRE_MINUTES=15

# Logging
LOG_LEVEL=INFO

# Service Discovery - Consul
CONSUL_HOST=consul
CONSUL_PORT=8500
CONSUL_HTTP_TOKEN=${CONSUL_TOKEN_FROM_VAULT}

# Database - MongoDB
MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGODB_USERNAME=${MONGODB_USERNAME_FROM_VAULT}
MONGODB_PASSWORD=${MONGODB_PASSWORD_FROM_VAULT}
MONGODB_DATABASE=pulmocare
MONGODB_POOL_SIZE=100
MONGODB_MIN_POOL_SIZE=25
MONGODB_MAX_IDLE_TIME_MS=300000
MONGODB_CONNECT_TIMEOUT_MS=10000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=10000

# Cache - Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=${REDIS_PASSWORD_FROM_VAULT}
REDIS_MAX_CONNECTIONS=100
REDIS_RETRY_ON_TIMEOUT=true

# Message Queue - RabbitMQ
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=${RABBITMQ_USERNAME_FROM_VAULT}
RABBITMQ_PASSWORD=${RABBITMQ_PASSWORD_FROM_VAULT}
RABBITMQ_VHOST=/

# OpenTelemetry
OTEL_SERVICE_NAME={{ service_name }}-service
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318
OTEL_RESOURCE_ATTRIBUTES=service.name={{ service_name }}-service,deployment.environment=production

# Authentication Service
AUTH_SERVICE_URL=http://auth-service:8086

# Keycloak
KEYCLOAK_SERVER_URL=http://keycloak:8080
KEYCLOAK_REALM=pulmocare
KEYCLOAK_CLIENT_ID=medapp-client
KEYCLOAK_CLIENT_SECRET=${KEYCLOAK_CLIENT_SECRET_FROM_VAULT}

# Feature Flags
ENABLE_AUTHENTICATION=true
ENABLE_METRICS=true
ENABLE_TRACING=true
ENABLE_CACHING=true
